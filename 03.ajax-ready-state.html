<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>readyState</title>
</head>
<body>
	
</body>
<script>
  var xhr = new XMLHttpRequest();
  // var xhr = new XMLHttpRequest()
  console.log(xhr.readyState);
   //为0  初始化，请求代理对象

  xhr.open('GET', 'time.php')
  console.log(xhr.readyState)
  // xhr.open('GET', 'time.php')
  //   console.log(xhr.readyState)

  //为1  方法已经调用，建立一个与服务端特定端口的连接

  xhr.send();
	
	xhr.addEventListener('readystatechange', function() {
		switch (this.readyState) {
			case 2:

			//为2  则已经接收到了响应报文的响应头
      console.log(this.getResponseHeader('server'))
      // 还没有拿到响应体
      console.log(this.responseText)
      break

      case 3:
      //正在下载响应报文的响应体
      console.log(this.responseText)
      break

      case 4:
      //  为4  整个响应报文已经完整下载下来了
      console.log(this.responseText)
      break
		}




	})

</script>
</html>